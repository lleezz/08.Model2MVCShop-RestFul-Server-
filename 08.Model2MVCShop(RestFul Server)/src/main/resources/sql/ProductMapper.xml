<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE mapper
		PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
		"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
		
<mapper namespace="ProductMapper">


	<resultMap type="product" id="productSelectMap">
		<result property="prodNo" column="prod_no" jdbcType="INTEGER"/>
		<result property="prodName" column="prod_name" jdbcType="VARCHAR"/>
		<result property="prodDetail" column="prod_detail" jdbcType="VARCHAR"/>
		<result property="price" column="price" jdbcType="NUMERIC"/>
		<result property="manuDate" column="manufacture_day" jdbcType="VARCHAR"/>
		<result property="fileName" column="image_file" jdbcType="VARCHAR"/>
		<result property="regDate" column="reg_date" jdbcType="DATE"/>
	</resultMap>
	
	
	<insert id="addProduct" parameterType="product">
		INSERT INTO product(prod_no, prod_name, prod_detail, manufacture_day, price, image_file, reg_date)
		VALUES( seq_product_prod_no.nextval, 
				#{prodName}, 
				#{prodDetail:VARCHAR}, 
				REPLACE(#{manuDate:VARCHAR}, '-', ''), 
				#{price:NUMERIC}, 
				#{fileName:VARCHAR},
				SYSDATE )
	</insert>
	
	
	
</mapper>